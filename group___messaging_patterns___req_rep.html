<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UMPS: Request-Reply Patterns</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UMPS
   </div>
   <div id="projectbrief">The University of Utah Seismograph Stations Message Passing System.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___messaging_patterns___req_rep.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Request-Reply Patterns<div class="ingroups"><a class="el" href="group___messaging_patterns__chapter.html">Messaging Patterns</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Request-Reply Patterns:</div>
<div class="dyncontent">
<div class="center"><img src="group___messaging_patterns___req_rep.png" border="0" usemap="#agroup______messaging__patterns______req__rep" alt=""/></div>
<map name="agroup______messaging__patterns______req__rep" id="agroup______messaging__patterns______req__rep">
<area shape="rect" title=" " alt="" coords="203,31,377,56"/>
<area shape="rect" href="group___messaging_patterns___req_rep___request_router.html" title="The request&#45;router combination allows for an asynchronous server that can be utilized by multiple cli..." alt="" coords="425,5,548,31"/>
<area shape="rect" href="group___messaging_patterns___req_rep___router_dealer.html" title="The router&#45;dealer combination allows for asynchronous clients interacting with asynchronous servers." alt="" coords="430,55,543,80"/>
<area shape="rect" href="group___messaging_patterns__chapter.html" title=" " alt="" coords="5,31,155,56"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___messaging_patterns___req_rep___router_dealer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___messaging_patterns___req_rep___router_dealer.html">Router-Dealer</a></td></tr>
<tr class="memdesc:group___messaging_patterns___req_rep___router_dealer"><td class="mdescLeft">&#160;</td><td class="mdescRight">The router-dealer combination allows for asynchronous clients interacting with asynchronous servers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___messaging_patterns___req_rep___request_router"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___messaging_patterns___req_rep___request_router.html">Request-Router</a></td></tr>
<tr class="memdesc:group___messaging_patterns___req_rep___request_router"><td class="mdescLeft">&#160;</td><td class="mdescRight">The request-router combination allows for an asynchronous server that can be utilized by multiple clients. <br  />
 <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The request-reply mechanism is as its name implies. There will be a client that makes a request to a server. Upon receipt of the request message, the server will perform the desired processing and return the result as a response message. Again, while conceptually simple, it will soon be clear that this pattern can be scaled so that the backend can be buttressed by an arbitrary number of servers so as to meet the demand of an arbitrary number of clients. </p>
<p>It may not be immediately obvious, but the request-reply mechanism is one of UMPS's major improvements over many existing seismic processing systems. This is because existing systems typically use a conveyer belt approach to processing. In this strategy, the products of one module are broadcast in some way (e.g., a shared memory ring or a message bus) to a downstream module. This strategy is effective when all the processing to be performed is on a <em>single</em> server. In this case, the implicit processing assumption is that a single server can meet the computational demands of all algorithms in aggregrate. Things get messy however when multiple, physical servers are needed to keep up with the requisite processing. <br  />
 </p>
<p>The challenge with a pub-sub strategy for distributed computing is the logistical hurdle of deciding which instance of a processing algorithm takes action upon receipt of a message so as not to duplicate work. To the best of my knowledge, the USGS NEIC appears to be pursuing a message-centric solution that leverages <a href="https://kafka.apache.org/">Kafka</a>. In short, Kafka is a database so a processing algorithm can lock a message thereby inhibiting a separate, parallel processing algorithm from performing the same computation for the same data. </p>
<p>The approach pursued by UMPS is to allow for the creation of RESTful APIs. Processing algorithms are now turned into stateless services that perform the desired calculation to their best of their ability then return a result. The cloud-based implementation would be a serverless function. The upshot is that meeting the computational demand amounts to continually adding hardware to drive an instance of a backend service. The downside is that each service requires the user implement a well-defined API. </p>
<h1><a class="anchor" id="MessagingPatterns_ReqRep_RequestReply"></a>
Request-Reply</h1>
<p>Here, we make clear the idea behind the request-reply pattern. For reasons that will become clear, this pattern is not implemented in UMPS. <br  />
</p>
<p><br  />
 </p><div class="image">
<img src="reqRep.jpg" alt="" width="100cm"/>
<div class="caption">
The request-reply pattern. Here, a single client sends a message to a single server then receives a response.</div></div>
<p> <br  />
</p>
<p>As the figure indicates, this pattern is extremely straightforward. A client connects to a server; presumably the server is the stable endpoint in the architecture. The server idly waits for a message from the client. Upon receipt of that message, the server performs the requisite processing. The response is then returned to the waiting client.</p>
<p>While straightforward, this implementation is unworkable in practice. This is because the client and server communication is synchronous. For example, if the service takes too long then the client may timeout. The impatient client may then submit a second request. This will break the messaging. Consequently, I have not even bothered implementing this paradigm in UMPS. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 5 2024 16:15:37 for UMPS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
